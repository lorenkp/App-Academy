<script type="text/template" id="pokemon-list-item-template">
  <ul class="poke-list-item">
    <%% var shortInfo = ['name', 'poke_type'] %>
    <%% shortInfo.forEach(function(attr) { %>
      <li data-id="<%%= pokemon.id %>"><%%=attr%>: <%%=pokemon.get(attr)%></li>
    <%% }) %>
  </ul>

</script>

<script type="text/template" id="pokemon-detail-template">

  <div class="detail">
    <img src="<%%= pokemon.escape('image_url')  %>"/>
    <ul>
      <li><%%= pokemon.escape("attack") %></li>
      <li><%%= pokemon.escape("defense") %></li>
      <li><%%= pokemon.escape("name") %></li>
      <li><%% for(var move in pokemon.attributes.moves) { %>
        <%%= pokemon.attributes.moves[move] %>
      <%% } %></li>
      <li><%%= pokemon.escape("poke_type") %></li>
    </ul>
  </div>

</script>

<script type="text/template" id="toy-list-item-template">

  <li class="toy-list-item" data-id="<%%= toy.get('id') %>"
      data-pokemon-id="<%%= toy.get('pokemon_id') %>">
      <%% var shortInfo = ['name', 'happiness', 'price'] %>
      <%% shortInfo.forEach(function(attr) { %>
        <%%= attr + ': ' + toy.get(attr) + '<br>' %>
      <%% }) %>
  </li>
</script>

<script type="text/template" id="toy-detail-template">

  <div class="detail">
    <img src="<%%= toy.get('image_url') %>"/>
    <%% for (var attr in toy.attributes) { %>
      <%% if(toy.attributes[attr] !== 'pokemon_id' && toy.attributes[attr] != 'image_url') { %>
        <span><%%= toy.attributes[attr] %> </span>
      <%% } %>
    <%% } %>

    <select data-pokemon-id="<%%= toy.get('pokemon_id') %>" data-toy-id="<%%= toy.id %>">
      <%% pokes.each( function(pokemon) { %>
        <option value="<%%= pokemon.id %>"
          <%% if (pokemon.id == toy.get('pokemon_id')) { %>
            <%%= 'selected' %>
          <%% } %>
        ><%%= pokemon.get("name")%></option>
      <%% }) %>
    </select>
  </div>
</script>

<script type="text/template" id="pokemon-form-template">
</script>
